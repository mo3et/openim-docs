---
sidebar_position: 13
title: Chat Common Configuration
---

## Chat Common Configuration

| Configuration Field Name | Configuration File   | Configuration Description                                        | Modification Notes                                                                                                                                                                                     |
| ------------------------ | -------------------- | ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `api.ports`              | `chat-api-chat.yml`  | Port for Chat service API                                        | Default is `10008`                                                                                                                                                                                     |
| `api.ports`              | `chat-api-admin.yml` | Port for Chat admin panel API                                    | Default is `10009`                                                                                                                                                                                     |
| `openIM.secret`          | `share.yml`          | IM server secret, used to maintain communication with the server | Default is `openIM123`, can be changed to any string, must be consistent with the server secret.                                                                                                       |
| `tokenPolicy.expire`     | `chat-rpc-admin.yml` | Expiration time configuration for Chat admin panel Token         | The unit of expire is days, default is 90                                                                                                                                                              |
| `secret`                 | `chat-rpc-admin.yml` | Chat admin panel secret                                          | Default is `chat123`                                                                                                                                                                                   |
| `remainLogLevel`         | `log.yml`            | Log level                                                        | 0: Default allows simultaneous login across multiple devices, 1: All clients can be online but only one per client type, 5: PC can be online simultaneously, other clients allow only one device login |
| `allowRegister`          | `chat-rpc-chat.yml`  | Whether to allow user registration                               | Default is true                                                                                                                                                                                        |
| `verifyCode`             | `chat-rpc-chat.yml`  | Verification code related configuration                          | See [Verification Code verifyCode](#verification-code-verifycode) for details.                                                                                                                         |
| `liveKit.url`            | `chat-rpc-chat.yml`  | URL of LiveKit server, including address and port                | Default is `ws://127.0.0.1:7880`                                                                                                                                                                       |

## Verification Code verifyCode

| **Configuration Option**               | **Description**                                                                                                                                                                                                  |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| validTime                              | Verification code validity period in seconds, default is 5 minutes.                                                                                                                                              |
| validCount                             | Maximum number of verification attempts for a single verification code.                                                                                                                                          |
| uintTime                               | Count cycle unit time in seconds. Default is 86400 seconds (one day).                                                                                                                                            |
| maxCount                               | Maximum number of verification attempts for a single verification code.                                                                                                                                          |
| superCode                              | Super verification code, when the value of `phone.use` or `mail.use` is `"superCode"`, the value of this field is used as the verification code. Default is `"666666"`.                                          |
| len                                    | Length of the generated verification code.                                                                                                                                                                       |
| **phone**                              | **Parameters related to phone verification code configuration**                                                                                                                                                  |
| phone.use                              | Phone verification code generation method, there are two types: `superCode` and `ali`. superCode is the default preset verification code, ali integrates with Alibaba Cloud SMS service. Default is `superCode`. |
| **phone.ali**                          | **Parameters related to Alibaba Cloud SMS verification service configuration**                                                                                                                                   |
| phone.ali.endpoint                     | Alibaba Cloud SMS service API endpoint.                                                                                                                                                                          |
| phone.ali.accessKeyId                  | AccessKey ID of Alibaba Cloud account.                                                                                                                                                                           |
| phone.ali.accessKeySecret              | AccessKey secret of Alibaba Cloud account.                                                                                                                                                                       |
| phone.ali.signName                     | Signature name displayed when sending SMS.                                                                                                                                                                       |
| phone.ali.verificationCodeTemplateCode | Alibaba Cloud SMS template ID, used to send verification codes.                                                                                                                                                  |
| **mail**                               | **Parameters related to email verification code configuration**                                                                                                                                                  |
| mail.use                               | Email verification code generation method, there are two types: `superCode` and `mail`. superCode is the default preset verification code, mail integrates with custom SMTP service. Default is `superCode`.     |
| mail.title                             | Email subject for sending verification code.                                                                                                                                                                     |
| mail.senderMail                        | Email address used to send verification codes.                                                                                                                                                                   |
| mail.senderAuthorizationCode           | Authorization code for the email.                                                                                                                                                                                |
| mail.smtpAddr                          | SMTP server address.                                                                                                                                                                                             |
| mail.smtpPort                          | SMTP server port.                                                                                                                                                                                                |
