---
title: '如何接入离线推送'
sidebar_position: 1
---



在移动端环境中，情况相对复杂：当用户不在线，或者 APP 被杀死、置于后台时，系统可能会挂起进程，导致 **OpenIM 长连接** 无法推送消息。为了确保消息能够及时触达用户，需要额外借助第三方推送服务：

- **中国境内环境** 推荐使用 [个推（GeTui）](https://www.getui.com/)。
- **中国境外环境** 推荐使用 [Firebase](https://firebase.google.com/)。


---

## 服务端与客户端的配置

对于使用 OpenIM 的开发者，需要在 **服务端** 和 **客户端** 进行对应的配置。

### 1. 服务端配置

以 YAML 格式为例，主要说明如何启用离线推送，以及个推（GeTui）、Firebase（FCM） 配置示例。

```yaml
# 使用 GeTui 进行离线推送，也可选择 fcm 或 jpns；从对应的服务商获取相关配置，并配置。

enable: #选择 getui 或者 fcm
  getui:
    pushUrl: https://restapi.getui.com/v2/$appId
    masterSecret:
    appKey:
    intent:
    channelID:
    channelName:
  fcm:
    # 优先使用文件路径，若 filePath 为空，则使用 URL
    filePath:   # filePath 相对 config目录的路径，如放在config目录则为./your-fcm-file.json
    authURL:    # 必须以 https 或 http 开头
```

### 2. 客户端配置

**Flutter 客户端** 的详细接入方式可参考下方链接：
- [OpenIM Flutter Demo 配置说明](https://github.com/openimsdk/openim-flutter-demo/blob/main/CONFIGKEY.zh-CN.md)
- [OpenIM iOS Demo 配置说明](https://github.com/openimsdk/openim-ios-demo/blob/main/CONFIGKEY.zh-CN.md)
- [OpenIM Uniapp Demo 配置说明](https://github.com/openimsdk/open-im-uniapp-demo/blob/main/CONFIGKEY.md)
- [OpenIM Android Demo 配置说明](https://github.com/openimsdk/open-im-android-demo/blob/main/CONFIGKEY.zh-CN.md)

